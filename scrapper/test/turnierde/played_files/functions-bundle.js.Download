function swipedetect(t,e){var o,n,a,i,s,l,r,c=t,d=50,u=100,h=600,f=e||function(t){};$("body").on("touchstart",c,function(t){var e=t.originalEvent.changedTouches[0];o="none",dist=0,n=e.pageX,a=e.pageY,r=(new Date).getTime()}),$("body").on("touchmove",c,function(t){t.preventDefault()}),$("body").on("touchend",c,function(t){var e=t.originalEvent.changedTouches[0];i=e.pageX-n,s=e.pageY-a,l=(new Date).getTime()-r,l<=h&&(Math.abs(i)>=d&&Math.abs(s)<=u?o=i<0?"left":"right":Math.abs(s)>=d&&Math.abs(i)<=u&&(o=s<0?"up":"down")),f(this,o)})}$(function(){function t(){$("html, body").removeClass("overflow-hidden")}function e(){$("html, body").removeClass("overflow-hidden"),a.removeClass("backdrop-is-visible backdrop--stacked")}$.ajaxSetup({cache:!1});var o=$("#nav-toggle");$(".js-nav-toggle__button").on("click",function(){o.is(":checked")?t():$("html, body").addClass("overflow-hidden")});var n=$("#sidebar-toggle"),a=$(".js-backdrop");$(".js-sidebar-toggle-btn").on("click",function(){n.is(":checked")?e():($("html, body").addClass("overflow-hidden"),a.addClass("backdrop-is-visible backdrop--stacked"))}),$(".js-backdrop").on("click",function(){o.prop("checked",!1),n.prop("checked",!1)}),$(".js-primary-nav__sub-nav").prev("a").click(function(){return $(this).next(".js-primary-nav__sub-nav").slideToggle(300),$(this).find(".icon-nav-sub").toggleClass("mirror"),!1}),$(function(){function t(){a.val(""),$(".js-masthead__search").removeClass("open"),r.hide(),o()}function e(){$("body").addClass("backdrop-is-visible"),c.addClass("backdrop-is-visible"),i.show()}function o(){$("body").removeClass("backdrop-is-visible"),c.removeClass("backdrop-is-visible"),i.hide()}var n=null,a=$(".js-search-box__field"),i=$(".js-search__dropdown"),s=$(".js-search__dropdown-results"),l=$(".js-formcontrol_clear"),r=$(".js-search__message"),c=$(".js-backdrop");(function(){var t=0;return function(e,o){clearTimeout(t),t=setTimeout(e,o)}})();a.data("val",a.val());var d;a.on("keyup",function(l){clearTimeout(d),d=setTimeout(function(){a.val().length>2&&a.val()!=a.data("val")?(a.data("val",a.val()),a.data("val",""),e(),r.hide(),null!=n&&n.abort(),i.addClass("is-loading"),n=$.ajax({url:"/Home/CleanSearch",type:"post",dataType:"html",data:{ASearchText:a.val()}}).done(function(t,e,o){s.html(t)}).fail(function(t,e,o){s.html(t.responseText)}).always(function(){i.removeClass("is-loading")})):a.val().length<=2&&(r.show(),o()),0!=a.val().length&&27!==l.which||t()},500)}),a.on("focus",function(){window.innerWidth<=1024&&($("body").addClass("search-has-focus"),document.body.scrollTop=$(this).offset().top)}).on("blur",function(){$("body").removeClass("search-has-focus")}),$(".js-nosubmit").on("click",function(){return a.blur(),!1}),a.on("keydown",function(t){if(13==t.keyCode)return t.preventDefault(),!1}),l.on("click",function(){t()}),c.on("click",function(){o()}),$(".js-search-trigger").on("click",function(e){e.preventDefault(),$(".js-masthead__search").hasClass("open")?($(".js-masthead__search").removeClass("open"),t()):($(".js-masthead__search").addClass("open"),$(".js-masthead__search").find(".js-formcontrol_clear").removeClass("is-hidden"),setTimeout(function(){$(".js-search-box__field").focus()},500))}),$(".txtSearchText--search-results").on("focus",function(){$(".search__main--search-results").addClass("open")}).on("blur",function(){$(".search__main--search-results").removeClass("open")}),$(".js-formcontrol_clear").on("click",function(){$(".txtSearchText--search-results").val(""),$(this).removeClass("active")})}),$(".js-masthead--sticky .js-toggle-dropdown").on("click",function(t){t.preventDefault(),$(this).parents().hasClass("open")?($("body").removeClass("sticky-dropdown-open"),$("html").removeClass("sticky-dropdown-open")):($("body").addClass("sticky-dropdown-open"),$("html").addClass("sticky-dropdown-open"),$("body").removeClass("overflow-hidden"),$("html").removeClass("overflow-hidden"))}),$('[data-toggle="tooltip"]').tooltip();var i=300,s=1200,l=700,r=$(".to-top");$(window).scroll(function(){$(this).scrollTop()>i?r.addClass("is-visible"):r.removeClass("is-visible fade-out"),$(this).scrollTop()>s&&r.addClass("fade-out")}),r.on("click",function(t){t.preventDefault(),$("body,html").animate({scrollTop:0},l)}),swipedetect(".js-onoffswitch",function(t,e){"left"!=e&&"right"!=e||$(t).trigger("click")}),$(".js-ga-track").on("click",function(){trackGA(this)}),$(document.body).on("click",".js-livescore-open-window",function(){var t="lsWindow",e=$(this).attr("href");return"undefined"!=typeof $(this).data("windowname")&&(t=$(this).data("windowname").replace(/-/g,"")),"undefined"!=typeof e&&"#"!=e&&"undefined"==typeof $(this).data("href")||(e=$(this).data("href")),window.open(e,t,"width=440, height=620, toolbar=0, status=0, resizable=1, scrollbars=1"),!1}),String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,o){return"undefined"!=typeof t[o]?t[o]:e})})});var trackGA=function(t,e){if("undefined"!=typeof ga){if("undefined"==typeof $(t).data("ga-cat"))return;var o=!1,n=$(t).attr("href");setTimeout(function(){o||("function"==typeof e?e():redirectGATrackLink(n),o=!0)},1e3);var a=$(t).data("ga-cat"),i=$(t).data("ga-action")?$(t).data("ga-action"):"click",s=$(t).data("ga-label")?$(t).data("ga-label"):n;return ga("send","event",{eventCategory:a,eventAction:i,eventLabel:s,hitCallback:function(){o||("function"==typeof e?e():redirectGATrackLink(n),o=!0)}}),!1}var n=$(t).attr("href");"function"==typeof e?e():window.location=n},redirectGATrackLink=function(t){window.location=t};window.onbeforeunload=function(t){if(document.activeElement){var e=$(document.activeElement).data("anchor");e&&e.length>0&&(history.pushState?history.pushState(null,null,"#"+e):location.hash="#"+e)}};var scrollToAnchor=function(){if(window.location.hash.length>0){var t=$('[data-anchor="'+window.location.hash.split("#")[1]+'"]');t&&t.length>0&&$(document.body).animate({scrollTop:t.offset().top-80},800),history.replaceState&&history.replaceState({state:"new"},document.title,window.location.pathname+window.location.search)}};"function"!=typeof Object.assign&&(Object.assign=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a)for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(o[i]=a[i])}return o}),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.indexOf(t,e)===e}),function(t,e,o){!function(t,e,o){!function(t,e,o){t.init=function(){},t.show=function(t,o){var n=e("#"+t),a=n.parent();a.prev().hasClass("js-modal-content")&&(a.prev().remove(),a.replaceWith(a.children())),a.closest(".modal-dialog").removeClass("modal-sm modal-lg").addClass(o)},t.close=function(t){var o=e("#"+t),n=o.parent(),a=n.closest(".modal");a.length>0&&a.modal("hide")},t.update=function(t){var o=e("#"+t),n=o.parent(),a=n.closest(".modal");if(a.length>0){var i=e("#"+a.data("updatetarget")),s=n.find(".js-modal-content");i.length>0&&s.length>0&&(1===s.children().length&&s.find(">:first-child").attr("id")===i.attr("id")?e(i).replaceWith(s.html()):i.html(s.html()),a.modal("hide"))}},t.onPostBegin=function(t){var o=e("#"+t),n=o.parent(),a=n.closest(".modal");a.length>0&&(a.addClass("modal-is-loading"),a.find(":submit").addClass("is-disabled is-loading"))},t.onPostComplete=function(t){var o=e("#"+t),n=o.parent(),a=n.closest(".modal");a.length>0&&(a.removeClass("modal-is-loading"),a.find(":submit").removeClass("is-disabled is-loading"))}}(t.modal=t.modal||{},e),function(t,e,o){var n=function(t,e){};t.init=function(){e(document).off("change",".js-autocomplete",n).on("change",".js-autocomplete",n)},t.fill=function(t,o){if(o){var n=t.val();t.empty(),e.each(o,function(){t.append(new Option(this.text,this.value))}),t.find("option[value='"+n+"']").length>0?t.val(n):t.val(t.first("option").val())}}}(t.dropdownlist=t.dropdownlist||{},e),function(t,e,o){var n=function(t){var o=e(this),n=e("#"+o.attr("for"));"True"!==n.attr("data-date-list-required")&&n.is(":checked")&&(n.prop("checked",!1),t.preventDefault(),n.trigger("change"))};t.init=function(){e(document).off("click",".js-date-list ~ label",n).on("click",".js-date-list ~ label",n)}}(t.datelist=t.datelist||{},e),function(t,e,o){var n=function(t,o){var n=(e(this),e(this.form));n.length>0&&n.trigger("submit")};t.init=function(){e(document).off("change",".js-autosubmit",n).on("change",".js-autosubmit",n)}}(t.autosubmit=t.autosubmit||{},e)}(t.mvc=t.mvc||{},e)}(visualreality=window.visualreality||{},jQuery);

!function(o,t,a){!function(o,t,a){!function(o,t,a){function n(o,t,a){var n="modal-dialog";a&&(n+=" "+a);var e='<div class="loader loader--centered has-backdrop js-modal-spinner"><svg class="spinner"><circle class="spinner__circle" cx="20" cy="20" r="18"></circle></svg></div>';return'<div id="'+o+'" data-updatetarget="'+t+'" class="modal modal_async fade" tabindex="-1" role="dialog"><div class="'+n+'" role="document">'+e+"</div></div>"}function e(){function o(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return o()+o()+"-"+o()+"-"+o()+"-"+o()+"-"+o()+o()+o()}function d(){var o=window.navigator.userAgent,t=o.indexOf("MSIE ");if(t>0)return parseInt(o.substring(t+5,o.indexOf(".",t)),10);var a=o.indexOf("Trident/");if(a>0){var n=o.indexOf("rv:");return parseInt(o.substring(n+3,o.indexOf(".",n)),10)}var e=o.indexOf("Edge/");return e>0&&parseInt(o.substring(e+5,o.indexOf(".",e)),10)}function r(o){var a={remotehref:null,content:null,targetId:null,updateTargetId:null,backdrop:"static",keyboard:!0,modalclass:null},d=t.extend(a,o);if(d.remotehref||d.content){d.targetId&&0!==d.targetId.length||(d.targetId=e());var r=n(d.targetId,d.updateTargetId,d.modalclass);document.getElementById(d.targetId)||t(document.body).append(r);var i=t("#"+d.targetId);i||alert("error"),i.modal({show:!0,backdrop:d.backdrop,keyboard:d.keyboard}),d.remotehref&&d.remotehref.length>0?t.ajax({type:"GET",url:d.remotehref,data:{},success:function(o,t,a){if(o.length>0){if(o.indexOf("<!DOCTYPE")!==-1)return console.log("Modaljs: trying to load full html document in modal; this is not allowed. Only partial views are supported"),"undefined"!=typeof toastr?toastr.error("Something went wrong"):alert("Something went wrong"),void i.modal("hide");i.find(".modal-dialog").first().append(o),i.trigger("loaded.bs.modal")}else"undefined"!=typeof toastr?toastr.error("Failed to load data"):alert("Failed to load data"),i.modal("hide")},error:function(o,a){return 403===o.status||401===o.status?void(window.location="/User/Login?ReturnUrl="+window.location.pathname+window.location.search+window.location.hash):("undefined"!=typeof toastr?toastr.error("failed to load data"):alert("failed to load data"),t(document.body).find("#spinner_"+d.targetId).hide(),void i.modal("hide"))}}):d.content&&d.content.length>0&&(d.content.indexOf("<!DOCTYPE")!==-1?console.log("Modaljs: trying to load full html document in modal; this is not allowed. Only partial views are supported"):(i.find(".modal-dialog").first().append(d.content),i.trigger("loaded.bs.modal")))}}var i=!1;o.showModalFromElement=function(o){if(o){var a=t(o).data("backdrop");"undefined"==typeof a?a="static":"static"!==a&&(a="false"!=String(a));var n={remotehref:t(o).data("href")||o.attr("href"),content:null,targetId:t(o).data("target")||e(),updateTargetId:t(o).data("updatetarget"),backdrop:a,keyboard:t(o).data("keyboard")||!0,modalclass:t(o).data("modal-class")};return r(n)}return!1},o.showModalWithContent=function(o){var t={content:o};r(t)},o.showModalOnSuccess=function(o,t,a){var n={content:o};r(n)},o.init=function(){this.modalIEVersion=d(),t(window).on("hashchange",function(a){if(location.hash.length>1){var n=t("[data-toggle=asyncmodal][href$='"+location.hash+"']");n&&o.showModalFromElement(n)}else t("div.modal_async").last().modal("hide")}).trigger("hashchange"),t(document.body).on("click",".js-asyncmodal",function(a,n){return o.showModalFromElement(t(this)),a.stopPropagation(),!1}),t(document.body).on("show.bs.modal",".modal_async, .modal",function(o,a){var n=t(".modal:visible").length;t(this).css("z-index",1501+10*n),setTimeout(function(){t(".modal-backdrop").not(".stacked").css("z-index",1500+10*n).addClass("stacked")},0)}),t(document.body).on("shown.bs.modal",".modal_async, .modal",function(o,a){t(this).focus()}),t(document.body).on("loaded.bs.modal",".modal_async",function(o,a){t(o.currentTarget).find(".js-modal-spinner").remove(),t.isFunction(window.focusFirstError)?focusFirstError(!0):console.log("focusFirstError() not found, did you register FormValidationJS before the ModalsJS?"),t.isFunction(window.bindClientValidation)?bindClientValidation():console.log("bindClientValidation() not found, did you register FormValidationJS before the ModalsJS?")}),t(document.body).on("hide.bs.modal",".modal_async",function(o,a){var n=t(o.currentTarget).find(".modal-dialog").data("before-hide");t.isFunction(window[n])&&(window[n]()||o.preventDefault())}),t(document.body).on("hidden.bs.modal",".modal_async, .modal",function(o){t(this).hasClass("modal_async")&&t(this).remove();var a=t(".modal:visible").length;a>0&&t(document.body).not(".modal-open").addClass("modal-open"),history.pushState&&(i===!1||i>11)?history.pushState("",document.title,location.pathname+(location.search?location.search:"")):location.hash="!"})}}(o.asyncmodal=o.asyncmodal||{},t)}(o.mvc=o.mvc||{},t)}(visualreality=window.visualreality||{},jQuery),visualreality.mvc.asyncmodal.init();
$(document.body).on("click",".js-userlisttoggle",function(t){var e=$(this),s=e.data("ultype"),a=e.data("uldatatype"),i=e.data("uldata1"),o=e.data("uldata2"),l=e.data("uldata3"),r=e.data("callback"),c=e.hasClass("is-active");s>0&&a>0?setUserListItemActionState(e,!c):console.log("UserListToggle: missing listtype or list datatype");var n={ActionID:c===!0?"Remove":"Add",UserListTypeID:s,UserListDataTypeID:a,Data1:i,Data2:o,Data3:l};return $.ajax({url:"/api/UserListAPI/ToggleUserListItem",type:"GET",data:n,contentType:"application/json; charset=utf-8",success:function(s){s?s.IsSuccess===!0?setUserListItemActionState(e,!c):(s.IsLoggedIn||(e.attr("aria-describedby")?e.tooltip("destroy"):(e.tooltip("destroy"),e.attr("title",s.ToolTipView),e.tooltip({html:!0,delay:{show:500,hide:100}}),e.tooltip("show"),setTimeout(function(){e&&e.tooltip("destroy")},5e3))),setUserListItemActionState(e,c)):setUserListItemActionState(e,c),$.isFunction(window[r])&&(window[r]()||t.preventDefault())},error:function(){setUserListItemActionState(e,c)}}),!1});var userlistitem_activeClass="is-active",setUserListItemActionState=function(t,e){e?t.addClass(userlistitem_activeClass):t.removeClass(userlistitem_activeClass)};
var bindChosenDropdown=function(e){if(e&&e.length>0)if($.fn.chosen){if(browserSupportsChosen()){e.find('option[value=""]').text("");var t=!1,n=e.parents("div .form-wrapper");n&&(t=n.hasClass("has-clear")),e.chosen({width:"100%",disable_search_threshold:$(e).data("disablesearchtreshold")||20,search_contains:$(e).data("searchcontains")||!1,allow_single_deselect:t,disable_search:$(e).data("disablesearch")||!1,no_results_text:$(e).data("noresulttext")||"No results match"})}}else console.log("Bind chosenDropdown failed; chosen is not defined")},browserSupportsChosen=function(){return!(/iP(od|hone|ad)/i.test(window.navigator.userAgent)||/Android/i.test(window.navigator.userAgent)||/BlackBerry|BB|PlayBook/i.test(window.navigator.userAgent)||/IEMobile|Windows Phone/i.test(window.navigator.userAgent))},bindDatePicker=function(e){e&&0!==e.length&&(moment?(moment.locale("en"),e.datetimepicker({locale:moment.locale($(e).data("locale")),minDate:moment("1900-01-01"),icons:{previous:"icon-bg--chevron_left",next:"icon-bg--chevron_right",up:"icon-bg--chevron_up",down:"icon-bg--chevron_down"},keyBinds:{"delete":function(){}},useCurrent:!1,sideBySide:!0,stepping:$(e).data("stepsize")||1,viewMode:$(e).data("viewmode")||"days"})):console.log("binding datepicker failed. moment is not defined"))};$(document.body).on("change propertychange",".form-select-control",function(){try{var e=$(this).parents("form");e.length>0&&"undefined"!=typeof $.data(e[0],"validator")&&$(this).valid()}catch(t){}$(this).trigger("checkval")}),$(document.body).on("checkval","select.form-select-control",function(){$(this).val()&&$(this).val().length?$(this).addClass("has-value"):$(this).removeClass("has-value")}),$(document.body).on("dp.change",".datepicker",function(e){var t=moment($(this).val(),$(this).data("date-format")),n=$("#"+$(this).data("dp-for"));if(!n)return void console.log("datepicker missing value element in dp-for;");if(t.isValid()){var a=$(this).data("date-modelformat")||"YYYY-MM-DD";n.val(t.format(a))}else n.val("");n.trigger("change").trigger("blur").trigger("propertychange")}),$(document.body).on("change",".js-tpick",function(e){var t=$("#"+$(this).data("for"));if(t){var n=moment(t.val(),"YYYY-MM-DD HH:mm");n.isValid()||(n=moment({}));var a=$(this).data("tptype");"hours"===a?n.hours($(this).val()):"minutes"===a&&n.minutes($(this).val()),t.val(n.format("0001-01-01THH:mm")).trigger("change");var o=t.parents("form");o.length>0&&"undefined"!=typeof $.data(o[0],"validator")&&t.valid()}else console.log("timepicker is missing target element")}),$(document.body).on("change",".js-tpickval",function(e){var t=moment($(this).val(),"YYYY-MM-DD HH:mm");if(t.isValid()){var n=$("[data-for='"+$(this).attr("id")+"']"),a=n.filter("[data-tptype='hours']:first");a&&a.val(t.hours());var o=n.filter("[data-tptype='minutes']:first");o&&o.val(t.minutes())}});var elementChanged=function(){var e=$(this).find("option:selected"),t=Boolean($(this).val())||e.prop("disabled")&&e.val().length>0;$(this).siblings(".js-formcontrol_clear").toggleClass("is-hidden",!t)};$(document.body).on("input propertychange",".has-clear input",elementChanged).on("change propertychange",".has-clear select",elementChanged),$(".has-clear input, select").trigger("propertychange"),$(document.body).on("click",".js-formcontrol_clear",function(){$(this).siblings("input, select").val("").trigger("propertychange").trigger("change").focus()});
function RegisterKeepAlive24h(){RegisterKeepAlive(1e4,8640)}function RegisterKeepAlive12h(){RegisterKeepAlive(1e4,4320)}function RegisterKeepAlive8h(){RegisterKeepAlive(1e4,2880)}function RegisterKeepAlive4h(){RegisterKeepAlive(1e4,1440)}function RegisterKeepAlive2h(){RegisterKeepAlive(1e4,720)}function RegisterKeepAlive1h(){RegisterKeepAlive(1e4,360)}function RegisterKeepAlive(e,i){var t=0,n=0,r="/keepalive.ashx";window.setInterval&&(n=window.setInterval(function(){t++;var e=new Image(1,1);e.src=r+"?rnd="+(t+Math.random()),t>=i&&clearInterval(n)},e))}
var bindBanners=function(){var s="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js";$("script[src='"+s+"']").length||$("head").append('<script async src="'+s+'"></script>'),$(".js-ad_async:visible").each(function(){$.ajax({url:"/banner/index/?wz="+$(this).data("wz")+"&zs="+$(this).data("zs"),context:$(this)}).done(function(s){$(this).is(":visible")&&$(this).html(s).removeClass("js-ad_async")})})};
function TagList(t,e){this.$target=t,this.$tagcount_target=e,this.tagList=[],this.setTagValue=function(t){var e,a=$(t).data("tag-title")?$(t).data("tag-title"):"";a.length>0&&(a+=":");var i=$(t).attr("id"),r=$(t).data("tag-target"),s=$(t).data("tag-dependson");if($(t).is("SELECT")){var g=$(t).find("option:selected").val();""!==g&&(e=$(t).find("option:selected").text())}else if($(t).data("text"))switch($(t).prop("type")){case"checkbox":$(t).prop("checked")===!0&&(e=$(t).data("text"));break;default:e=$(t).data("text")}else switch($(t).prop("type")){case"checkbox":$(t).prop("checked")===!0&&(e=$(t).val());break;default:e=$(t).val()}for(var l={title:a,value:e,target:i,target_add:r,target_depend:s},n=!1,d=0;d<this.tagList.length;d++)if(this.tagList[d].target==i){this.tagList.splice(d,1,l),n=!0;break}0==n&&this.tagList.push(l)},this.renderTags=function(){this.$target.empty();var t=0,e=this.$target,a=this.tagList;$.each(this.tagList,function(i,r){if(r.value&&(r.value.length>0||0!=r.value)&&"0"!=r.value&&"-1"!=r.value)if(r.target_add&&r.target_add.length>0){if($(document.getElementById(r.target)).is(":disabled"))return;var s=e.find("li a[data-target="+r.target_add+"]");if(s){var g=s.find("span.tag__value");r.title&&r.title.length>0&&(r.title=r.title.replace(":",""));var l=$(g[0]).text()+" "+r.title+r.value;g.text(l);var n=$("#"+r.target_add).data("tag-hideif");n&&n.length>0&&n===l&&$(s).parent(".tag").hide()}}else{if(r.target_depend&&r.target_depend.length>0)for(var i=0;i<a.length;i++)if(a[i].target==r.target_depend&&(!a[i].value||0==a[i].value.length))return;if($(document.getElementById(r.target)).is(":disabled"))return;e.append('<li class="tag tag--large tag--active"><a href="#" class="js-cleartag" data-target="'+r.target+'"><span class="tag__title">'+r.title+'</span> <span class="tag__value">'+r.value+'</span><svg height="20" width="20" class="icon-x"><use xlink:href="../../Content/images/sprite--core.svg#icon-x"></use></svg></a></li>'),t++}}),this.$tagcount_target.text(""+t),0==t?e.addClass("is-hidden"):e.removeClass("is-hidden")},this.$target.on("click",".js-cleartag",function(){var t=$(this).data("target");if("undefined"!=typeof t){var e=$("#"+t);if(e){if(e.data("tag-onclear")&&e.data("tag-onclear").length>0)return void window[e.data("tag-onclear")]();switch(e.prop("type")){case"checkbox":e.prop("checked",!1),e.trigger("change");break;default:e.val(null),e.data("text",null),e.trigger("change").trigger("propertychange"),e.hasClass("form-select-control__chosen")&&e.trigger("chosen:updated"),e.hasClass("js-bind_tag__forcesubmit")&&e.parents("form").trigger("submit")}}}return!1})}
!function(t,e){t.VisualTabs=function(a,i){var s={updateElementID:null,loadElement:null,loadElementLoadingClass:"is-loading",tabActiveClass:"page-nav__item--active",failToLoadText:"failed to load data",isInline:!1,isResponsive:!1,hasMoreTab:!0,onTabLoadComplete:function(){}},n=this;n.settings={};var l,o,r,d=t(a),a=a,f=[];n.init=function(){if(n.settings=t.extend({},s,i),n.settings.updateElementID&&0!=n.settings.updateElementID.length||(n.settings.updateElementID=d.data("tabcontentid")?d.data("tabcontentid"):"tabcontent"),n.settings.isResponsive===!0&&d.addClass("-l-hidden -xl-hidden"),l=t("#"+n.settings.updateElementID),l&&(l.attr("role","tabpanel"),n.settings.loadElement||(n.settings.loadElement=l.parent(".js-is-loading"))),d.find("li a").each(function(e){var a=t(this).attr("href");a&&a.startsWith("#")&&t(a).attr("role","tabpanel")}),o=d.find(".js-more").first(),r=d.find(".js-more-menu .js-page-nav--more").first(),o&&n.settings.hasMoreTab===!0){u(d);var a;t(e).on("resize",function(){clearTimeout(a),a=setTimeout(u(d),250)})}var g=d.find(".js-tab.js-tab-autoload").first();g&&c(g),n.settings.isInline===!0&&(d.on("click","[role=tab]",function(){return h(t(this).parent("li")),!1}),f=[],d.find("li > a[role=tab]").each(function(){f.push(t(t(this).attr("href")))}),f.length>1&&t.each(f,function(e,a){e>0&&a.attr("aria-hidden",!0),n.settings.isResponsive===!0&&t(a).addClass("tabpanel--responsive")}))};var g,h=function(e){if(e){d.find("li").removeClass(n.settings.tabActiveClass).find("a").removeAttr("aria-selected"),t(e.addClass(n.settings.tabActiveClass)).find("a").attr("aria-selected","true"),r.children("li."+n.settings.tabActiveClass).length>0&&o.toggleClass(n.settings.tabActiveClass,!0);var a=d.find("li.open .js-toggle-dropdown");if(a&&a.dropdown("toggle"),f.length>0){var i=e.find("a").attr("href");i.startsWith("#")&&(t.each(f,function(t,e){e.attr("aria-hidden",!0)}),t(i).attr("aria-hidden",null),"function"==typeof n.settings.onTabLoadComplete&&n.settings.onTabLoadComplete())}}},c=function(e){if(t(this).hasClass("page-nav__item--disabled"))return!1;var a=e.data("href");if(a){if(l&&l.length>0){if(g&&g.abort(),g=t.ajax({url:a,beforeSend:function(t){n.settings.loadElement&&n.settings.loadElement.addClass(n.settings.loadElementLoadingClass)}}).done(function(t){t&&t.length>0&&(t.indexOf("<!DOCTYPE")!==-1?(console.log("VisualTabs: trying to load full html document in tab; this is not allowed. Only partial views are supported"),l.html(n.settings.failToLoadText)):(l.html(t),"function"==typeof n.settings.onTabLoadComplete&&n.settings.onTabLoadComplete()))}).fail(function(t,e,a){"abort"!==e&&l.html(n.settings.failToLoadText)}).always(function(){n.settings.loadElement&&n.settings.loadElement.removeClass(n.settings.loadElementLoadingClass)}),history.replaceState){var i=e.attr("href");i&&i.length>0&&"#"!==i&&history.replaceState("",document.title,i)}return h(e.parent("li")),!1}h(e.parent("li"))}return!0};d.on("click",".js-tab, js-ajax_tab",function(){return c(t(this)),!1});var u=function(e){if(n.settings.hasMoreTab!==!1){var a=e.width(),i=0;e.children(".js-page-nav__item:not(.js-more)").each(function(){var e=t(this).outerWidth(!0);i+=e,t(this).prop("data-width",e)}),i=Math.ceil(i+10);var s=e.find("li.js-more").removeClass("is-hidden").width(),l=a-s;if(i>l){var f=e.children(".js-page-nav__item").last();f.prependTo(r),l>s&&u(e)}else{var g=r.find("li").first();g&&(firstMoreElementWidth=Math.ceil(g.prop("data-width")+10),i+firstMoreElementWidth<l&&g.insertBefore(o))}if(r.children("li").length>0){d.toggleClass("more-is-visible",!0),o.toggleClass("is-hidden",!1);var h=r.children("li."+n.settings.tabActiveClass).length>0;o.toggleClass(n.settings.tabActiveClass,h)}else o.toggleClass("is-hidden",!0),d.toggleClass("more-is-visible",!1)}};n.init()},t.fn.VisualTabs=function(e){return this.each(function(){if(void 0==t(this).data("VisualTabs")){var a=new t.VisualTabs(this,e);t(this).data("VisualTabs",a)}})}}(jQuery,window);
var VisualConfirm=function(options){var settings=$.extend({textTitle:"",textContent:"",textConfirm:"OK",textCancel:"Cancel",hideCancel:!1,hasError:!1,classBtnConfirm:"btn--success",onConfirm:null,onConfirmUrl:"",onCancel:null,onCancelUrl:""},options),classTitle="js-confirm-title",classContent="js-confirm-content",classConfirm="js-confirm-confirm",classCancel="js-confirm-cancel",isConfirm=!1,modalID="mdlVisualConfirm-"+(new Date).getTime();if(!$("#"+modalID).length){var modalHtmlTemplate='<div id="'+modalID+'" class="modal'+(settings.hasError?" modal--has-error":"")+' fade" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal__header"><button type="button" class="icon-x__trigger" data-dismiss="modal" aria-label="Close"><svg class="icon-x icon-x--close" width="20" height="20" viewBox="0 0 1342 1024"><path class="path1" d="M1062.771 267.299l-149.822-144.49-242.052 242.017-242.017-242.017-149.822 144.49 244.701 244.701-244.701 244.701 149.822 144.49 242.017-242.017 242.052 242.017 149.822-144.49-244.701-244.701z"></path></svg></button><div class="hgroup"><h4 class="hgroup__heading '+classTitle+'"></h4></div></div><div class="modal__body"><div class="'+classContent+'"></div><div class="btn__group"><button type="button" class="btn '+settings.classBtnConfirm+" "+classConfirm+'"></button>'+(settings.hideCancel?"":'<button type="button" class="btn btn--cancel '+classCancel+'" data-dismiss="modal"></button>')+"</div></div></div></div></div>";$(document.body).append(modalHtmlTemplate)}$("#"+modalID+" ."+classTitle).html(settings.textTitle),$("#"+modalID+" ."+classContent).html(decodeURI(settings.textContent)),settings.hideCancel||($("#"+modalID+" ."+classCancel).text(settings.textCancel),$("#"+modalID).on("hidden.bs.modal",function(){isConfirm||("undefined"!=typeof settings.onCancel&&null!=settings.onCancel?"function"==typeof settings.onCancel?settings.onCancel():eval(onCancel):"undefined"!=typeof settings.onCancelUrl&&""!=settings.onCancelUrl&&(window.location.href=settings.onCancelUrl))})),$("#"+modalID+" ."+classConfirm).text(settings.textConfirm).off("click").on("click",function(e){isConfirm=!0,"undefined"!=typeof settings.onConfirm&&null!=settings.onConfirm?"function"==typeof settings.onConfirm?settings.onConfirm():eval(onConfirm):"undefined"!=typeof settings.onConfirmUrl&&""!=settings.onConfirmUrl&&(window.location.href=settings.onConfirmUrl),$("#"+modalID).modal("hide"),e.stopPropagation(),e.preventDefault()});var backdrop=$(this).data("backdrop");"undefined"==typeof backdrop?backdrop="static":"static"!==backdrop&&(backdrop="false"!=String(backdrop));var keyboard=$(this).data("keyboard")||!0;$("#"+modalID).modal({show:!0,backdrop:backdrop,keyboard:keyboard})};$.fn.VisualConfirm=function(){return $(this).length?($(this).on("click",function(e){if(($(this).attr("href")||$(this).data("href")||$(this).data("function"))&&($(this).data("title")||$(this).data("content"))){var actionConfirm=$(this).data("function"),actionConfirmUrl=$(this).data("href")||$(this).attr("href");VisualConfirm({textTitle:$(this).data("title"),textContent:$(this).data("content"),textConfirm:$(this).data("text-confirm"),textCancel:$(this).data("text-cancel"),onConfirm:function(){"undefined"!=typeof actionConfirm&&""!=actionConfirm?eval(actionConfirm):"undefined"!=typeof actionConfirmUrl&&""!=actionConfirmUrl&&(window.location.href=actionConfirmUrl)}}),e.stopPropagation(),e.preventDefault()}}),this.each(function(){_this=this})):$(this)};
function VisualAutoSuggest(e,t){if(!e)return!1;if(this.tbxSearch,"object"==typeof e){if(!e.tagName||"input"!=e.tagName.toLowerCase())return!1;this.tbxSearch=e}else{if(!document.getElementById(ASearchInputID))return!1;this.tbxSearch=document.getElementById(ASearchInputID)}this.ARRUP=38,this.ARRDN=40,this.ENTER=13,this.TAB=9,this.DataAttrTitle="asg-title",this.DataAttrValue="asg-value",this.DataAttrHref="asg-href",this.ResultsContainerHtml='<div class="search__dropdown search__dropdown--auto-suggest is-hidden scrollable--y"><div class="loader loader--centered"><svg class="spinner"><circle cx="20" cy="20" r="18" class="spinner__circle"></circle></svg></div></div>',this.MinCharsMessageHtml='<p class="search__message search__message--auto-suggest text--xsmall is-hidden"></p>',this.SuggestionsErrorHtml='<div class="search__dropdown-results is-loading-element is-loading-element--blur js-asg-results"><div class="search__dropdown-results-item"><p class="text--muted padding--small">An error occurred.</p></div></div>',this.ReplaceHolderContainerHtml='<div class="media media--replaceholder is-align-center is-list-item"></div>',this.SearchQuery="",this.SelectedTitle=this.tbxSearch.value,this.SuggestionHighlighted=-1,this.SuggestionMouseOver=!1,this.SearchRequestActive=!1,this.ResultListInitialHtml=null,this.ResultListLatestHtml=null,this.RequestTimer=null,this.MinCharsTimer=null,this.RequestObject=null;var s={onSelectItem:function(){},onRemoveSelectedItem:function(){},itemHighlightClassName:"is-selected",itemDisabledClassName:"is-disabled",loadingClassName:"is-loading",hiddenClassName:"is-hidden",inputinputFocusClassName:"",postParamObject:null,postParamNameQuery:"Query",errorClassName:"",minChars:3,minCharsMessage:"",minCharsMessageContainerSelector:"",requestUrl:"",requestDelay:200,resultContainerSelector:"",resultListSelector:".js-asg-results",resultListItemSelector:".js-asg-result-item",replaceHolderSelector:"",extraValueInfoSelector:"",hiddenInputID:""};this.Params=$.extend({},s,t),""==this.Params.hiddenInputID&&(this.Params.hiddenInputID=$(this.tbxSearch).data("asg-hiddenid"));var i=this;this.$ResultListContainer,"undefined"!=typeof this.Params.resultContainerSelector&&""!=this.Params.resultContainerSelector&&(0==this.Params.resultContainerSelector.indexOf("#")?this.$ResultListContainer=$(this.Params.resultContainerSelector):this.$ResultListContainer=$(this.tbxSearch).parents(".search__main").first().find(this.Params.resultContainerSelector).first()),"undefined"!=typeof this.$ResultListContainer&&null!=this.$ResultListContainer&&this.$ResultListContainer.length||(this.$ResultListContainer=$(this.ResultsContainerHtml),$(this.tbxSearch).after(this.$ResultListContainer)),this.$ReplaceHolderContainer,""==this.Params.replaceHolderSelector&&"undefined"!=typeof $(this.tbxSearch).data("asg-replaceholder-id")&&(this.Params.replaceHolderSelector="#"+$(this.tbxSearch).data("asg-replaceholder-id")),"undefined"!=typeof this.Params.replaceHolderSelector&&""!=this.Params.replaceHolderSelector&&(this.$ReplaceHolderContainer=$(this.Params.replaceHolderSelector),this.$ReplaceHolderContainer.length?this.$ReplaceHolderContainer.children().length&&this.setReplaceHolderSelectedState():(this.$ReplaceHolderContainer=$(this.ReplaceHolderContainerHtml),0==this.Params.replaceHolderSelector.indexOf("#")&&this.Params.replaceHolderSelector.indexOf(".")==-1&&this.$ReplaceHolderContainer.attr("id",this.Params.replaceHolderSelector.substr(1)),$(this.tbxSearch).after(this.$ReplaceHolderContainer)),this.$ReplaceHolderContainer.on("click",".js-asg-remove-selected",function(){i.removeSelectedItem()})),this.$MinCharsMessage=null,"undefined"!=typeof this.Params.minCharsMessageContainerSelector&&""!=this.Params.minCharsMessageContainerSelector&&(this.$MinCharsMessage=$(this.Params.minCharsMessageContainerSelector)),null!=this.$MinCharsMessage&&this.$MinCharsMessage.length||"undefined"==typeof this.Params.minCharsMessage||""==this.Params.minCharsMessage||(this.$MinCharsMessage=$(this.MinCharsMessageHtml),$(this.tbxSearch).after(this.$MinCharsMessage)),null!=this.$MinCharsMessage&&this.$MinCharsMessage.length&&""==this.$MinCharsMessage.text()&&this.$MinCharsMessage.html(this.Params.minCharsMessage.replace("{0}",this.Params.minChars)),this.tbxSearch.onkeydown=function(e){return i.onKeyDown(e)},this.tbxSearch.onkeyup=function(e){return i.onKeyUp(e)},this.tbxSearch.onblur=function(){i.blurSearchBox()},this.tbxSearch.onfocus=function(){i.focusSearchBox()},this.tbxSearch.onchange=function(){i.changeSearchBox()},this.tbxSearch.setAttribute("autocomplete","off"),this.tbxSearch.setAttribute("spellcheck","false"),this.tbxSearch.setAttribute("autocorrect","off"),this.tbxSearch.setAttribute("autocapitalize","off"),this.$ResultListContainer.on("mouseover",function(){i.mouseOverSuggestionList()}).on("mouseout",function(){i.mouseOutSuggestionList()})}$.fn.VisualAutoSuggest=function(e){return $(this).length?this.each(function(){new VisualAutoSuggest($(this)[0],e);_this=this}):$(this)},VisualAutoSuggest.prototype.onKeyDown=function(e){var t=window.event?window.event.keyCode:e.keyCode;switch(t){case this.ENTER:if(this.SuggestionHighlighted!=-1){var s=this.$ResultListContainer.find(this.Params.resultListItemSelector);this.SuggestionHighlighted<s.length&&this.selectItem(s[this.SuggestionHighlighted])}e.preventDefault();break;case this.ARRUP:case this.ARRDN:this.changeHighlightByKey(t),e&&e.preventDefault&&e.preventDefault()}},VisualAutoSuggest.prototype.onKeyUp=function(e){var t=window.event?window.event.keyCode:e.keyCode,s=[this.ENTER,this.TAB,this.ARRUP,this.ARRDN];s.indexOf(t)==-1?this.getSuggestions(this.tbxSearch.value):e&&e.preventDefault&&e.preventDefault()},VisualAutoSuggest.prototype.setReplaceHolderSelectedState=function(){$(this.tbxSearch).parent().addClass(this.Params.hiddenClassName)},VisualAutoSuggest.prototype.removeSelectedItem=function(){return this.$ReplaceHolderContainer.empty(),$(this.tbxSearch).val("").parent().removeClass(this.Params.hiddenClassName),$(this.tbxSearch).focus(),""!=this.Params.hiddenInputID&&$("#"+this.Params.hiddenInputID).val("").trigger("change"),"function"==typeof this.Params.onRemoveSelectedItem&&this.Params.onRemoveSelectedItem(),!1},VisualAutoSuggest.prototype.selectItem=function(e){var t=$(e);this.SelectedTitle=unescape(t.data(this.DataAttrTitle));var s=t.data(this.DataAttrValue),i=t.data(this.DataAttrHref);if(""!=this.Params.hiddenInputID&&$("#"+this.Params.hiddenInputID).val(s).trigger("change"),i&&(window.location.href=i),$(this.tbxSearch).val(this.SelectedTitle),"undefined"!=typeof this.$ReplaceHolderContainer&&null!=this.$ReplaceHolderContainer){var a=$(e).find(".media").first();this.$ReplaceHolderContainer.html(a.html()),this.$ReplaceHolderContainer.addClass(a.attr("class")),this.setReplaceHolderSelectedState()}return"function"==typeof this.Params.onSelectItem&&this.Params.onSelectItem(e,s,this.tbxSearch),this.removeList(),this.hideList(),!1},VisualAutoSuggest.prototype.changeHighlightByKey=function(e){var t=this.$ResultListContainer.find(this.Params.resultListItemSelector);if(t.length){var s=this.SuggestionHighlighted;switch(e){case this.ARRDN:this.SuggestionHighlighted!=t.length-1&&this.SuggestionHighlighted++;break;case this.ARRUP:this.SuggestionHighlighted>0&&this.SuggestionHighlighted--}if(s!=this.SuggestionHighlighted){$(t[s]).removeClass(this.Params.itemHighlightClassName);var i=$(t[this.SuggestionHighlighted]);if(i.hasClass(this.Params.itemDisabledClassName))return void this.changeHighlightByKey(e);if(i.length){var a=i.outerHeight()*this.SuggestionHighlighted;this.$ResultListContainer.find(this.Params.resultListSelector).parent().scrollTop(a),i.addClass(this.Params.itemHighlightClassName)}}}},VisualAutoSuggest.prototype.changeHighlightByMouseOver=function(e){var t=this.$ResultListContainer.find(this.Params.resultListItemSelector);$(t[this.SuggestionHighlighted]).removeClass(this.Params.itemHighlightClassName),this.SuggestionHighlighted=$(e).index(),$(e).addClass(this.Params.itemHighlightClassName)},VisualAutoSuggest.prototype.getSuggestions=function(e){if(0!=e.length&&e==this.SearchQuery)return!1;var t=this;return!e||0==e.length||e.length<this.Params.minChars?(""!=this.Params.loadingClassName&&$(this.tbxSearch).removeClass(this.Params.loadingClassName),""!=this.Params.errorClassName&&$(this.tbxSearch).removeClass(this.Params.errorClassName),clearTimeout(this.RequestTimer),""!=this.Params.hiddenInputID&&$("#"+this.Params.hiddenInputID).val()&&$("#"+this.Params.hiddenInputID).val().length>0&&$("#"+this.Params.hiddenInputID).val("").trigger("change"),this.SearchQuery="",this.removeList(),this.hideList(),e.length>0&&null!=this.$MinCharsMessage&&this.$MinCharsMessage.length&&(clearTimeout(this.MinCharsTimer),this.MinCharsTimer=setTimeout(function(){t.$MinCharsMessage.removeClass(t.Params.hiddenClassName)},1e3)),!1):(null!=this.$MinCharsMessage&&this.$MinCharsMessage.length&&(clearTimeout(this.MinCharsTimer),this.$MinCharsMessage.addClass(this.Params.hiddenClassName)),clearTimeout(this.RequestTimer),this.SuggestionHighlighted=-1,this.SearchQuery=e,""!=this.Params.loadingClassName&&this.$ResultListContainer.add(this.tbxSearch).addClass(this.Params.loadingClassName),e!=this.SelectedTitle&&""!=this.Params.hiddenInputID&&$("#"+this.Params.hiddenInputID).val()&&$("#"+this.Params.hiddenInputID).val().length>0&&$("#"+this.Params.hiddenInputID).val("").trigger("change"),void(this.RequestTimer=setTimeout(function(){null==this.ResultListLatestHtml&&(this.ResultListLatestHtml="",t.createList(!0)),null!=t.RequestObject&&t.RequestObject.abort();var s=t.Params.postParamObject||{};s[t.Params.postParamNameQuery]=encodeURIComponent(e),t.RequestObject=$.post(t.Params.requestUrl,s).done(function(e){t.setSuggestions(e)}).fail(function(e){"undefined"!=typeof e.status&&e.status>0&&t.setSuggestions(t.SuggestionsErrorHtml)})},this.Params.requestDelay)))},VisualAutoSuggest.prototype.setSuggestions=function(e){this.SearchRequestActive=!1,""!=this.Params.loadingClassName&&this.$ResultListContainer.add(this.tbxSearch).removeClass(this.Params.loadingClassName),""!=this.Params.errorClassName&&$(this.tbxSearch).removeClass(this.Params.errorClassName),e&&(this.ResultListLatestHtml=e,this.createList(!0))},VisualAutoSuggest.prototype.createList=function(e){if(e||null==this.ResultListLatestHtml||""==this.ResultListLatestHtml){this.removeList(),this.$ResultListContainer.append(this.ResultListLatestHtml).removeClass(this.Params.hiddenClassName);var t=this;this.$ResultListContainer.find(this.Params.resultListItemSelector).not("."+this.Params.itemDisabledClassName).on("click",function(){t.selectItem(this)}).on("mouseover",function(){t.changeHighlightByMouseOver(this)}),this.$ResultListContainer.find(this.Params.resultListSelector).parent().scrollTop(0)}else this.$ResultListContainer.find(this.Params.resultListSelector).length?this.$ResultListContainer.removeClass(this.Params.hiddenClassName):this.getSuggestions(this.tbxSearch.value)},VisualAutoSuggest.prototype.removeList=function(){this.$ResultListContainer.find(this.Params.resultListSelector).remove()},VisualAutoSuggest.prototype.hideList=function(){this.$ResultListContainer.addClass(this.Params.hiddenClassName)},VisualAutoSuggest.prototype.mouseOverSuggestionList=function(){this.SuggestionMouseOver=!0},VisualAutoSuggest.prototype.mouseOutSuggestionList=function(){this.SuggestionMouseOver=!1},VisualAutoSuggest.prototype.blurSearchBox=function(){""!=this.Params.inputFocusClassName&&$(this.tbxSearch).removeClass(this.Params.inputFocusClassName),this.SuggestionMouseOver||this.hideList(),null!=this.$MinCharsMessage&&this.$MinCharsMessage.length&&(clearTimeout(this.MinCharsTimer),this.$MinCharsMessage.addClass(this.Params.hiddenClassName))},VisualAutoSuggest.prototype.focusSearchBox=function(){""!=this.Params.inputFocusClassName&&$(this.tbxSearch).addClass(this.Params.inputFocusClassName),null!=this.ResultListLatestHtml&&""!=this.ResultListLatestHtml&&this.tbxSearch.value.length>=this.Params.minChars?this.createList(!1):this.getSuggestions(this.tbxSearch.value)},VisualAutoSuggest.prototype.changeSearchBox=function(){""==this.tbxSearch.value&&this.getSuggestions(this.tbxSearch.value)};
//# sourceMappingURL=maps/functions-bundle.js.map
